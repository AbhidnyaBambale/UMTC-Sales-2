<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Return Tracking System - Interactive Wireframe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .nav-tab {
            flex: 1;
            padding: 12px 20px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
            border: none;
            background: transparent;
            color: #666;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }

        .nav-tab:hover:not(.active) {
            background: #f8f9fa;
            color: #4facfe;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border-left: 4px solid #4facfe;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .card h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #4facfe;
            margin: 10px 0;
        }

        .ai-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .form-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2d3748;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .ai-insights {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .ai-insights h4 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            height: 100%;
            width: 2px;
            background: #4facfe;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -25px;
            top: 20px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #4facfe;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .data-table th, .data-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2d3748;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
        }

        .status-processing {
            background: #fef3c7;
            color: #92400e;
        }

        .status-approved {
            background: #d1fae5;
            color: #065f46;
        }

        .status-rejected {
            background: #fee2e2;
            color: #991b1b;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close-modal {
            float: right;
            font-size: 24px;
            cursor: pointer;
            color: #6c757d;
        }

        .ai-recommendation {
            background: #e6f3ff;
            border-left: 4px solid #4facfe;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .item-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîÑ Sales Return Tracking System</h1>
            <p>AI-Powered Return Management & Analytics Dashboard</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('dashboard')">üìä Dashboard</button>
            <button class="nav-tab" onclick="switchTab('new-return')">‚ûï New Return</button>
            <button class="nav-tab" onclick="switchTab('track-returns')">üîç Track Returns</button>
            <button class="nav-tab" onclick="switchTab('analytics')">üìà AI Analytics</button>
            <button class="nav-tab" onclick="switchTab('verification')">‚úÖ Item Verification</button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard-grid">
                <div class="card">
                    <h3>üîÑ Total Returns <span class="ai-badge">AI Tracked</span></h3>
                    <div class="stat-value">247</div>
                    <p>This Month: +23% from last month</p>
                </div>
                <div class="card">
                    <h3>‚è±Ô∏è Avg Processing Time</h3>
                    <div class="stat-value">2.4 <span style="font-size: 0.5em;">days</span></div>
                    <p>AI-optimized workflow reduced by 40%</p>
                </div>
                <div class="card">
                    <h3>‚úÖ Return Accuracy <span class="ai-badge">AI Verified</span></h3>
                    <div class="stat-value">94.2%</div>
                    <p>Item matching accuracy with AI verification</p>
                </div>
                <div class="card">
                    <h3>üë§ Top Salesperson Issues</h3>
                    <div class="stat-value">John D.</div>
                    <p>15 returns this month - needs follow-up</p>
                </div>
            </div>

            <div class="ai-insights">
                <h4>ü§ñ AI Insights & Recommendations</h4>
                <div class="ai-recommendation">
                    <strong>Pattern Detection:</strong> 67% of returns from Electronics category happen within 7 days of purchase. Consider improving product demonstrations.
                </div>
                <div class="ai-recommendation">
                    <strong>Salesperson Alert:</strong> John D. has 3x higher return rate than average. Recommend additional training on product specifications.
                </div>
                <div class="ai-recommendation">
                    <strong>Seasonal Trend:</strong> Return rates typically increase by 34% during Q4. Prepare additional staff and inventory verification.
                </div>
            </div>

            <div class="form-container">
                <h3>Recent Return Activities</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Return ID</th>
                            <th>Customer</th>
                            <th>Salesperson</th>
                            <th>Item</th>
                            <th>Reason</th>
                            <th>Status</th>
                            <th>AI Confidence</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr onclick="openReturnDetails('R001')">
                            <td>R001</td>
                            <td>Sarah Johnson</td>
                            <td>Mike Chen</td>
                            <td>iPhone 15 Pro</td>
                            <td>Defective Screen</td>
                            <td><span class="status-badge status-processing">Processing</span></td>
                            <td>98%</td>
                        </tr>
                        <tr onclick="openReturnDetails('R002')">
                            <td>R002</td>
                            <td>David Wilson</td>
                            <td>John D.</td>
                            <td>Samsung TV 55"</td>
                            <td>Wrong Size</td>
                            <td><span class="status-badge status-approved">Approved</span></td>
                            <td>87%</td>
                        </tr>
                        <tr onclick="openReturnDetails('R003')">
                            <td>R003</td>
                            <td>Emma Brown</td>
                            <td>Lisa Park</td>
                            <td>MacBook Air</td>
                            <td>Customer Changed Mind</td>
                            <td><span class="status-badge status-rejected">Under Review</span></td>
                            <td>72%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- New Return Tab -->
        <div id="new-return" class="tab-content">
            <div class="form-container">
                <h3>‚ûï Process New Return</h3>
                <form id="newReturnForm">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label for="customerName">Customer Name</label>
                            <input type="text" id="customerName" name="customerName" required>
                        </div>
                        <div class="form-group">
                            <label for="saleId">Original Sale ID</label>
                            <input type="text" id="saleId" name="saleId" placeholder="S12345" required>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label for="salesperson">Salesperson</label>
                            <select id="salesperson" name="salesperson" required>
                                <option value="">Select Salesperson</option>
                                <option value="mike-chen">Mike Chen</option>
                                <option value="john-d">John D.</option>
                                <option value="lisa-park">Lisa Park</option>
                                <option value="sarah-kim">Sarah Kim</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="returnReason">Return Reason</label>
                            <select id="returnReason" name="returnReason" required onchange="showAISuggestions()">
                                <option value="">Select Reason</option>
                                <option value="defective">Defective/Damaged</option>
                                <option value="wrong-item">Wrong Item Shipped</option>
                                <option value="wrong-size">Wrong Size/Color</option>
                                <option value="not-as-described">Not As Described</option>
                                <option value="changed-mind">Customer Changed Mind</option>
                                <option value="duplicate-order">Duplicate Order</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="itemDetails">Item Details</label>
                        <input type="text" id="itemDetails" name="itemDetails" placeholder="Product name, model, SKU" required onblur="verifyItem()">
                    </div>

                    <div id="itemVerification" style="display: none;" class="ai-recommendation">
                        <strong>ü§ñ AI Item Verification:</strong>
                        <div id="verificationResult"></div>
                    </div>

                    <div class="form-group">
                        <label for="returnDetails">Additional Details</label>
                        <textarea id="returnDetails" name="returnDetails" rows="4" placeholder="Describe the condition of returned item, any damage, etc."></textarea>
                    </div>

                    <div id="aiSuggestions" style="display: none;" class="ai-insights">
                        <h4>ü§ñ AI Recommendations</h4>
                        <div id="suggestionContent"></div>
                    </div>

                    <div style="text-align: center; margin-top: 30px;">
                        <button type="button" class="btn btn-primary" onclick="processReturn()">Process Return</button>
                        <button type="button" class="btn btn-secondary" onclick="clearForm()">Clear Form</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Track Returns Tab -->
        <div id="track-returns" class="tab-content">
            <div class="form-container">
                <h3>üîç Track Return Status</h3>
                <div style="display: grid; grid-template-columns: 1fr auto; gap: 20px; margin-bottom: 20px;">
                    <input type="text" id="searchReturn" placeholder="Enter Return ID, Customer Name, or Sale ID" style="padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px;">
                    <button class="btn btn-primary" onclick="searchReturn()">üîç Search</button>
                </div>

                <div id="searchResults">
                    <!-- Results will be populated here -->
                </div>

                <div class="ai-insights">
                    <h4>ü§ñ AI-Powered Search Features</h4>
                    <ul style="margin-left: 20px; margin-top: 15px;">
                        <li>Smart search across all return data</li>
                        <li>Pattern recognition for similar returns</li>
                        <li>Predictive timeline estimation</li>
                        <li>Automated status updates</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <div class="dashboard-grid">
                <div class="card">
                    <h3>üìä Return Patterns <span class="ai-badge">AI Analysis</span></h3>
                    <div style="margin-top: 15px;">
                        <p><strong>Top Return Reasons:</strong></p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Defective/Damaged: 34%</li>
                            <li>Wrong Size: 28%</li>
                            <li>Not as Described: 22%</li>
                            <li>Changed Mind: 16%</li>
                        </ul>
                    </div>
                </div>
                <div class="card">
                    <h3>üë• Salesperson Performance</h3>
                    <div style="margin-top: 15px;">
                        <p><strong>Return Rates by Salesperson:</strong></p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Lisa Park: 2.1% (Excellent)</li>
                            <li>Mike Chen: 3.4% (Good)</li>
                            <li>Sarah Kim: 4.2% (Average)</li>
                            <li>John D.: 7.8% (Needs Attention)</li>
                        </ul>
                    </div>
                </div>
                <div class="card">
                    <h3>‚è∞ Time Analysis</h3>
                    <div style="margin-top: 15px;">
                        <p><strong>Return Timing Patterns:</strong></p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Within 24 hours: 23%</li>
                            <li>1-7 days: 45%</li>
                            <li>1-2 weeks: 22%</li>
                            <li>2+ weeks: 10%</li>
                        </ul>
                    </div>
                </div>
                <div class="card">
                    <h3>üéØ AI Predictions</h3>
                    <div style="margin-top: 15px;">
                        <p><strong>Next Month Forecast:</strong></p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Expected Returns: 284</li>
                            <li>High-Risk Salesperson: John D.</li>
                            <li>Peak Return Days: Dec 26-31</li>
                            <li>Confidence: 87%</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="ai-insights">
                <h4>ü§ñ Advanced AI Analytics</h4>
                <div class="ai-recommendation">
                    <strong>Trend Analysis:</strong> Return rates show 15% seasonal increase during holiday periods. Electronics category most affected (23% increase).
                </div>
                <div class="ai-recommendation">
                    <strong>Predictive Insights:</strong> Based on current patterns, John D.'s territory may see 25% more returns next month. Consider territory reassignment or additional support.
                </div>
                <div class="ai-recommendation">
                    <strong>Cost Impact:</strong> AI optimization has reduced return processing costs by $23,450 this quarter through faster verification and routing.
                </div>
            </div>
        </div>

        <!-- Item Verification Tab -->
        <div id="verification" class="tab-content">
            <div class="form-container">
                <h3>‚úÖ AI-Powered Item Verification</h3>
                <p style="margin-bottom: 20px; color: #6c757d;">Verify that returned items match original sale records</p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label for="verifySaleId">Original Sale ID</label>
                        <input type="text" id="verifySaleId" placeholder="S12345" onblur="loadSaleData()">
                    </div>
                    <div class="form-group">
                        <label for="verifyReturnId">Return ID</label>
                        <input type="text" id="verifyReturnId" placeholder="R001">
                    </div>
                </div>

                <div id="itemComparison" style="display: none;">
                    <h4>Item Comparison</h4>
                    <div class="item-comparison">
                        <div class="comparison-item">
                            <h5>üì¶ Originally Sold</h5>
                            <div id="originalItem">
                                <!-- Original item details will be loaded here -->
                            </div>
                        </div>
                        <div class="comparison-item">
                            <h5>‚Ü©Ô∏è Being Returned</h5>
                            <div id="returnedItem">
                                <!-- Returned item details will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div class="ai-insights">
                        <h4>ü§ñ AI Verification Results</h4>
                        <div id="aiVerificationResult">
                            <!-- AI verification results will be shown here -->
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-primary" onclick="runVerification()">üîç Run AI Verification</button>
                    <button class="btn btn-secondary" onclick="generateReport()">üìÑ Generate Report</button>
                </div>
            </div>

            <div class="form-container">
                <h3>üéØ Verification Features</h3>
                <div class="dashboard-grid">
                    <div style="text-align: center; padding: 20px;">
                        <h4>üì∏ Image Comparison</h4>
                        <p>AI compares product images from sale vs return</p>
                        <div class="ai-badge" style="margin-top: 10px;">97% Accuracy</div>
                    </div>
                    <div style="text-align: center; padding: 20px;">
                        <h4>üè∑Ô∏è Serial Number Check</h4>
                        <p>Automatic serial number verification</p>
                        <div class="ai-badge" style="margin-top: 10px;">100% Accurate</div>
                    </div>
                    <div style="text-align: center; padding: 20px;">
                        <h4>üìä Condition Assessment</h4>
                        <p>AI evaluates item condition vs. original state</p>
                        <div class="ai-badge" style="margin-top: 10px;">94% Confidence</div>
                    </div>
                    <div style="text-align: center; padding: 20px;">
                        <h4>‚è±Ô∏è Timeline Matching</h4>
                        <p>Verifies realistic return timeframe</p>
                        <div class="ai-badge" style="margin-top: 10px;">Smart Logic</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Return Details -->
    <div id="returnModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h3>Return Details</h3>
            <div id="modalContent">
                <!-- Modal content will be populated here -->
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabId) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all nav tabs
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to clicked nav tab
            event.target.classList.add('active');
        }

        function openReturnDetails(returnId) {
            const modal = document.getElementById('returnModal');
            const modalContent = document.getElementById('modalContent');
            
            // Sample data for demonstration
            const returnData = {
                'R001': {
                    id: 'R001',
                    customer: 'Sarah Johnson',
                    salesperson: 'Mike Chen',
                    originalSaleDate: '2025-09-15',
                    returnDate: '2025-09-22',
                    item: 'iPhone 15 Pro 128GB - Natural Titanium',
                    reason: 'Defective Screen',
                    status: 'Processing',
                    timeline: [
                        { date: '2025-09-15', event: 'Original Sale by Mike Chen', status: 'completed' },
                        { date: '2025-09-22', event: 'Return Request Submitted', status: 'completed' },
                        { date: '2025-09-23', event: 'AI Verification Completed (98% match)', status: 'completed' },
                        { date: '2025-09-24', event: 'Item Inspection in Progress', status: 'current' },
                        { date: '2025-09-25', event: 'Refund Processing', status: 'pending' }
                    ]
                }
            };
            
            const data = returnData[returnId];
            if (data) {
                modalContent.innerHTML = `
                    <div class="timeline">
                        <div class="timeline-item">
                            <strong>Return ID:</strong> ${data.id}<br>
                            <strong>Customer:</strong> ${data.customer}<br>
                            <strong>Salesperson:</strong> ${data.salesperson}<br>
                            <strong>Item:</strong> ${data.item}<br>
                            <strong>Reason:</strong> ${data.reason}<br>
                            <strong>Days Between Sale & Return:</strong> 7 days
                        </div>
                        <h4>üïí Return Timeline</h4>
                        ${data.timeline.map(item => `
                            <div class="timeline-item ${item.status}">
                                <strong>${item.date}</strong><br>
                                ${item.event}
                                <div class="status-badge status-${item.status}" style="margin-top: 5px; display: inline-block;">
                                    ${item.status.charAt(0).toUpperCase() + item.status.slice(1)}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="ai-insights" style="margin-top: 20px;">
                        <h4>ü§ñ AI Analysis</h4>
                        <p><strong>Match Confidence:</strong> 98%</p>
                        <p><strong>Risk Assessment:</strong> Low Risk</p>
                        <p><strong>Recommendation:</strong> Approve return - legitimate defective item claim</p>
                        <p><strong>Similar Cases:</strong> 3 similar returns for iPhone screens in the past month</p>
                    </div>
                `;
                modal.classList.add('active');
            }
        }

        function closeModal() {
            document.getElementById('returnModal').classList.remove('active');
        }

        function showAISuggestions() {
            const reason = document.getElementById('returnReason').value;
            const suggestionsDiv = document.getElementById('aiSuggestions');
            const suggestionContent = document.getElementById('suggestionContent');
            
            if (reason) {
                let suggestions = '';
                switch(reason) {
                    case 'defective':
                        suggestions = `
                            <p><strong>Recommended Actions:</strong></p>
                            <ul>
                                <li>Request photos of the defect</li>
                                <li>Check warranty status</li>
                                <li>Verify serial number matches sale record</li>
                                <li>Schedule quality control review</li>
                            </ul>
                            <p><strong>Historical Data:</strong> 87% of defective claims are approved after verification</p>
                        `;
                        break;
                    case 'wrong-item':
                        suggestions = `
                            <p><strong>Recommended Actions:</strong></p>
                            <ul>
                                <li>Immediate approval likely</li>
                                <li>Check fulfillment process</li>
                                <li>Verify correct item is in stock for exchange</li>
                                <li>Flag for warehouse training</li>
                            </ul>
                            <p><strong>Historical Data:</strong> 99% approval rate for wrong item returns</p>
                        `;
                        break;
                    case 'changed-mind':
                        suggestions = `
                            <p><strong>Recommended Actions:</strong></p>
                            <ul>
                                <li>Check return policy timeframe</li>
                                <li>Verify item condition upon return</li>
                                <li>Apply restocking fee if applicable</li>
                                <li>Consider customer retention offer</li>
                            </ul>
                            <p><strong>Historical Data:</strong> 73% approval rate, 15% restocking fee applied</p>
                        `;
                        break;
                    default:
                        suggestions = '<p>Select a return reason to see AI recommendations</p>';
                }
                
                suggestionContent.innerHTML = suggestions;
                suggestionsDiv.style.display = 'block';
            } else {
                suggestionsDiv.style.display = 'none';
            }
        }

        function verifyItem() {
            const itemDetails = document.getElementById('itemDetails').value;
            const verificationDiv = document.getElementById('itemVerification');
            const resultDiv = document.getElementById('verificationResult');
            
            if (itemDetails.length > 3) {
                // Simulate AI verification
                setTimeout(() => {
                    resultDiv.innerHTML = `
                        <div style="margin-top: 10px;">
                            <p><strong>‚úÖ Item Found in Database</strong></p>
                            <p><strong>SKU:</strong> IPH15P-128-NT</p>
                            <p><strong>Original Sale Date:</strong> 2025-09-15</p>
                            <p><strong>Salesperson:</strong> Mike Chen</p>
                            <p><strong>Match Confidence:</strong> 98%</p>
                            <p style="color: #065f46; margin-top: 10px;">‚úì Item eligible for return</p>
                        </div>
                    `;
                    verificationDiv.style.display = 'block';
                }, 1000);
            } else {
                verificationDiv.style.display = 'none';
            }
        }

        function processReturn() {
            alert('ü§ñ Return processed successfully!\n\nReturn ID: R' + Math.floor(Math.random() * 1000).toString().padStart(3, '0') + '\nAI Confidence: 94%\nEstimated Processing Time: 2.1 days\n\nCustomer will be notified automatically.');
            clearForm();
        }

        function clearForm() {
            document.getElementById('newReturnForm').reset();
            document.getElementById('aiSuggestions').style.display = 'none';
            document.getElementById('itemVerification').style.display = 'none';
        }

        function searchReturn() {
            const searchTerm = document.getElementById('searchReturn').value;
            const resultsDiv = document.getElementById('searchResults');
            
            if (searchTerm) {
                resultsDiv.innerHTML = `
                    <div class="form-container">
                        <h4>Search Results for: "${searchTerm}"</h4>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Return ID</th>
                                    <th>Customer</th>
                                    <th>Sale Date</th>
                                    <th>Return Date</th>
                                    <th>Status</th>
                                    <th>AI Confidence</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr onclick="openReturnDetails('R001')">
                                    <td>R001</td>
                                    <td>Sarah Johnson</td>
                                    <td>2025-09-15</td>
                                    <td>2025-09-22</td>
                                    <td><span class="status-badge status-processing">Processing</span></td>
                                    <td>98%</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="ai-insights" style="margin-top: 20px;">
                            <h4>ü§ñ Smart Search Results</h4>
                            <p>Found 1 exact match. AI also suggests checking related returns:</p>
                            <ul style="margin-left: 20px; margin-top: 10px;">
                                <li>Similar items returned by other customers</li>
                                <li>Returns from the same salesperson</li>
                                <li>Returns with similar reasons</li>
                            </ul>
                        </div>
                    </div>
                `;
            }
        }

        function loadSaleData() {
            const saleId = document.getElementById('verifySaleId').value;
            const comparisonDiv = document.getElementById('itemComparison');
            const originalItem = document.getElementById('originalItem');
            const returnedItem = document.getElementById('returnedItem');
            
            if (saleId && saleId.length > 3) {
                originalItem.innerHTML = `
                    <p><strong>Item:</strong> iPhone 15 Pro 128GB</p>
                    <p><strong>Color:</strong> Natural Titanium</p>
                    <p><strong>Serial:</strong> F2LWD8QFPQ</p>
                    <p><strong>Sale Date:</strong> 2025-09-15</p>
                    <p><strong>Salesperson:</strong> Mike Chen</p>
                    <p><strong>Price:</strong> $999.00</p>
                `;
                
                returnedItem.innerHTML = `
                    <p><strong>Item:</strong> iPhone 15 Pro 128GB</p>
                    <p><strong>Color:</strong> Natural Titanium</p>
                    <p><strong>Serial:</strong> F2LWD8QFPQ</p>
                    <p><strong>Return Date:</strong> 2025-09-22</p>
                    <p><strong>Condition:</strong> Screen damage reported</p>
                    <p><strong>Days Since Sale:</strong> 7 days</p>
                `;
                
                comparisonDiv.style.display = 'block';
            }
        }

        function runVerification() {
            const resultDiv = document.getElementById('aiVerificationResult');
            
            resultDiv.innerHTML = `
                <div class="ai-recommendation">
                    <strong>‚úÖ Verification Complete</strong><br>
                    <strong>Match Confidence:</strong> 98.5%<br>
                    <strong>Serial Number:</strong> ‚úì Confirmed match<br>
                    <strong>Timeline:</strong> ‚úì Realistic return window<br>
                    <strong>Item Condition:</strong> ‚ö†Ô∏è Damage consistent with reported defect<br>
                    <strong>Risk Assessment:</strong> üü¢ Low Risk<br>
                    <strong>Recommendation:</strong> APPROVE RETURN
                </div>
                <div class="ai-recommendation">
                    <strong>ü§ñ AI Notes:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Item serial number matches original sale</li>
                        <li>Return timeframe is normal (7 days)</li>
                        <li>Screen defect pattern matches known manufacturing issue</li>
                        <li>No fraud indicators detected</li>
                        <li>Customer has good return history</li>
                    </ul>
                </div>
            `;
        }

        function generateReport() {
            alert('üìÑ Verification report generated!\n\nReport ID: VR' + Math.floor(Math.random() * 1000) + '\nAI Confidence: 98.5%\nRecommendation: Approve Return\n\nReport saved to system and sent to manager.');
        }

        // Auto-refresh dashboard stats every 30 seconds
        setInterval(() => {
            console.log('üîÑ Dashboard data refreshed');
        }, 30000);
    </script>
</body>
</html>